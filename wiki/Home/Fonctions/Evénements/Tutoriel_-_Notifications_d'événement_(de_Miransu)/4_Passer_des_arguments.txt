Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2015-09-02T17:13:03+02:00

====== 4 Passer des arguments ======

Maintenant que le fonctionnement basique est assimilé, on va pouvoir utiliser des arguments d'événements !
Qu'est-ce que c'est un argument ? C'est un paramètre variable, non connu à l'avance, qui ne sera connu qu'au moment où on notifiera l'événement.

Pour des raisons obscures, seule la fonction GetEventArgument(0) peut-être utilisée pour les événements définis par l'utilisateur, donc passer plusieurs valeurs à l'événement devra se faire par un tableau.
Dans le cas de notre script Stage qui fait spawner un objet, on va définir les arguments suivants sous forme de tableau : [type d'objet, coordonnée X, coordonnée Y, score] et on va récupérer les arguments ainsi :
'''
case(EV_USER_STAGE) {
'''
	'''
	let arguments = GetEventArgument(0);
	let spawnType = arguments[0];
	let spawnX = arguments[1];
	let spawnY = arguments[2];
	let spawnScore = arguments[3];
	CreateItemA1(spawnType, spawnX, spawnY, spawnScore);
	}
	'''


Et on va passer les arguments ainsi avec notre NotifyEvent :
''NotifyEvent(MyStageID, EV_USER_STAGE, [ITEM_POWER, GetStgFrameWidth/2, GetStgFrameHeight/2, 10000]);''

Maintenant, notre événement fait spawner un seul  objet de type  Power-Up au milieu de la STG Frame.
Notez que les  arguments du tableau sont les mêmes que ceux requis pour utiliser la fonction //CreateItemA1//.
